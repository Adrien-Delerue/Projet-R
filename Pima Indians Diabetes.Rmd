---
title: "PROJECT 4"
output: 
  html_document:
    toc: true     
    toc_float: true
    df_print: paged
    css: "Pima_Indians_Diabetes.css"
date: "2025-10-22"
---

# Pima Diabetes -Detecting Diabetes from Imperfect Medical Data

The project aims to predict diabetes in Pima Indian women using imperfect medical data.\

After cleaning invalid values, features are standardized and categorized, visualizations are created to explore patterns, and models (Logistic Regression and KNN) are trained and compared to show the impact of data cleaning.

```{r include=FALSE}
#install.packages("dplyr")
library(dplyr)
```

## Data Cleaning

```{r}
diabetes = read.csv("diabetes.csv", head=TRUE, sep=",")
head(diabetes)
summary(diabetes)
```

```{r}
diabetes <- diabetes %>%
  mutate(
    Glucose = na_if(Glucose, 0),
    BloodPressure = na_if(BloodPressure, 0),
    SkinThickness = na_if(SkinThickness, 0),
    BMI = na_if(BMI, 0),
    DiabetesPedigreeFunction = na_if(DiabetesPedigreeFunction, 0),
  )
summary(diabetes)
```

```{r}
diabetes <- diabetes %>%
  mutate(
    Glucose = if_else(is.na(Glucose), median(Glucose, na.rm = TRUE), Glucose),
    BloodPressure = if_else(is.na(BloodPressure), median(BloodPressure, na.rm = TRUE), BloodPressure),
    SkinThickness = if_else(is.na(SkinThickness), median(SkinThickness, na.rm = TRUE), SkinThickness),
    BMI = if_else(is.na(BMI), median(BMI, na.rm = TRUE), BMI),
    DiabetesPedigreeFunction = if_else(is.na(DiabetesPedigreeFunction), median(DiabetesPedigreeFunction, na.rm = TRUE), DiabetesPedigreeFunction)
  )

summary(diabetes)
```

```{r}
diabetes_var<-colnames(diabetes)
diabetes_var_without_outcome<-diabetes_var[diabetes_var!="Outcome"]
diabetes_scaled <-diabetes %>% mutate_at(diabetes_var_without_outcome, ~(scale(.) %>% as.vector))
diabetes_scaled
```
